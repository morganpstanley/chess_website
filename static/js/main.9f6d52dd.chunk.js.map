{"version":3,"sources":["reducer.js","images/lightning.svg","Header/Header.js","images/chess-logo.svg","images/open-book.svg","images/chess-gear.svg","Options/Options.js","images/strategy.svg","InfoBox/InfoBox.js","helpers.js","EvaluationBar/EvaluationBar.js","images/pieces/wP.svg","images/pieces/wB.svg","images/pieces/wN.svg","images/pieces/wR.svg","images/pieces/wQ.svg","images/pieces/bP.svg","images/pieces/bB.svg","images/pieces/bN.svg","images/pieces/bR.svg","images/pieces/bQ.svg","CaptureArea/CaptureArea.js","PromotionPrompt/PromotionPrompt.js","Chessboard/ChessBoard.js","Dashboard/Dashboard.js","App/App.js","reportWebVitals.js","index.js"],"names":["initialState","game","Chess","fen","pgn","depth","computerOpponent","difficulty","userColor","Header","id","src","lightningBolt","alt","Options","dispatch","useDispatch","handleChange","event","target","name","value","JSON","parse","type","payload","className","onChange","defaultChecked","htmlFor","InfoBox","changeOpponent","changePlayerColor","chess","useSelector","state","useState","opening","setOpening","eco","setEco","comment","setComment","annotated","setAnnotated","options","showOptions","useEffect","fenArray","split","fenAgain","position","json","find","undefined","turn","filter","openingsLength","moves","length","pgnLength","includes","chessBookWithPawn","onClick","chessGear","openBook","undo","map","arr","move","analysis","onMoveClick","useEffectWhen","effect","deps","whenDeps","whenRef","useRef","whenDepsChanged","current","every","w","i","nullDeps","colors","EvaluationBar","evaluationObj","playerColor","evaluation","color","mate","vh","setVh","better","setBetter","displayNum","setDisplayNum","bottomColor","setBottomColor","topColor","setTopColor","evalHeight","toFixed","style","backgroundColor","top","Math","abs","height","transition","CaptureArea","whitePieces","setWhitePieces","blackPieces","setBlackPieces","difference","setDifference","f","white","black","match","push","displayCaptures","captures","captureArray","p","b","n","r","q","P","B","N","R","Q","x","Modal","setAppElement","customStyles","content","left","right","bottom","marginRight","transform","PromotionPrompt","promotion","showModal","isOpen","textAlign","cursor","role","queen","width","rook","bishop","knight","stockfishPlayer","Worker","stockfishWhite","stockfishBlack","Chessboard","pendingMove","setPendingMove","lastMove","setLastMove","setEvaluation","setDepth","setShowModal","computerLevel","level","postMessage","console","log","onmessage","bestMove","data","from","to","handleMessage","currDepth","turnColor","game_over","setTimeout","onGameOver","alert","orientation","movable","dests","Map","SQUARES","forEach","s","ms","square","verbose","set","m","free","calcMovable","onMove","len","flags","indexOf","animation","duration","e","Dashboard","App","reportWebVitals","onPerfEntry","Function","then","getCLS","getFID","getFCP","getLCP","getTTFB","store","createStore","action","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.9f6d52dd.chunk.js","sourcesContent":["import Chess from 'chess.js';\r\n\r\nconst initialState = {\r\n    game: new Chess(),\r\n    fen: \"rnbqkbnr/pppppppp/8/8/8/8/PPPPPPPP/RNBQKBNR w KQkq - 0 1\",\r\n    pgn: \"\",\r\n    depth: 15,\r\n    computerOpponent: false,\r\n    difficulty: 1,\r\n    userColor: \"white\"\r\n}\r\n\r\nexport default function reducer(state = initialState, action) {\r\n\r\n    console.log(state)\r\n\r\n    switch (action.type) {\r\n\r\n        case 'UPDATE_GAME':\r\n            return {\r\n                ...state,\r\n                game: action.game,\r\n                fen: action.fen,\r\n                pgn: action.pgn\r\n            }\r\n        \r\n        case \"SET_STOCKFISH_DEPTH\":\r\n            return {\r\n                ...state,\r\n                depth: action.depth\r\n            }\r\n\r\n        case \"SET_OPPONENT\":\r\n            return {\r\n                ...state,\r\n                computerOpponent: action.payload\r\n            }\r\n\r\n        case \"SET_COMPUTER_DIFFICULTY\":\r\n            return {\r\n                ...state,\r\n                difficulty: action.payload\r\n            }\r\n\r\n        case \"SET_USER_COLOR\":\r\n            return {\r\n                ...state,\r\n                userColor: action.payload\r\n            }\r\n\r\n        default:        \r\n            return state\r\n    }\r\n  }","export default __webpack_public_path__ + \"static/media/lightning.b2dfab5c.svg\";","import \"./Header.css\"\r\nimport lightningBolt from \"../images/lightning.svg\";\r\n\r\nconst Header = () => {\r\n    return (\r\n        <div id=\"header\">\r\n            <div id=\"logo\">\r\n                <img src={lightningBolt} id=\"logo-image\" alt=\"lighting-bolt\" />\r\n                <span id=\"chess\">CHESS</span>\r\n                <span id=\"battery\">BATTERY</span>\r\n            </div>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default Header;\r\n","export default __webpack_public_path__ + \"static/media/chess-logo.78040a62.svg\";","export default __webpack_public_path__ + \"static/media/open-book.2a9fb61b.svg\";","export default __webpack_public_path__ + \"static/media/chess-gear.61562b26.svg\";","import \"./Options.css\"\r\nimport { useDispatch } from \"react-redux\"\r\n\r\nconst Options = () => {\r\n\r\n    const dispatch = useDispatch();\r\n\r\n    const handleChange = (event) => {\r\n        let {name, value} = event.target;\r\n        if (value !== \"white\" && value !== \"black\") {value = JSON.parse(value)};\r\n        dispatch({type: name, payload: value});\r\n    }\r\n\r\n    return (\r\n        <div id=\"options\">\r\n            <form className=\"option\" id=\"player-color-option\">\r\n                <h3>Player Color</h3>\r\n                <div className=\"switch-field\">\r\n                    <input onChange={handleChange} type=\"radio\" id=\"radio-one\" name=\"SET_USER_COLOR\" value=\"white\" defaultChecked/>\r\n                    <label htmlFor=\"radio-one\">White</label>\r\n                    <input onChange={handleChange} type=\"radio\" id=\"radio-two\" name=\"SET_USER_COLOR\" value=\"black\" />\r\n                    <label htmlFor=\"radio-two\">Black</label>\r\n                </div>\r\n            </form>\r\n            <form className=\"option\" id=\"computer-player-option\">\r\n                <h3>Opponent</h3>\r\n                <div className=\"switch-field\">\r\n                    <input onChange={handleChange} type=\"radio\" id=\"radio-three\" name=\"SET_OPPONENT\" value=\"false\" defaultChecked/>\r\n                    <label htmlFor=\"radio-three\">Human</label>\r\n                    <input onChange={handleChange} type=\"radio\" id=\"radio-four\" name=\"SET_OPPONENT\" value=\"true\" />\r\n                    <label htmlFor=\"radio-four\">Computer</label>\r\n                </div>\r\n            </form>\r\n            <form className=\"option\" id=\"computer-player-level\">\r\n                <h3>Computer Level</h3>\r\n                <div className=\"switch-field\">\r\n                    <input onChange={handleChange} type=\"radio\" id=\"radio-five\" name=\"SET_COMPUTER_DIFFICULTY\" value=\"1\" defaultChecked/>\r\n                    <label htmlFor=\"radio-five\">1</label>\r\n                    <input onChange={handleChange} type=\"radio\" id=\"radio-six\" name=\"SET_COMPUTER_DIFFICULTY\" value=\"2\" />\r\n                    <label htmlFor=\"radio-six\">2</label>\r\n                    <input onChange={handleChange} type=\"radio\" id=\"radio-seven\" name=\"SET_COMPUTER_DIFFICULTY\" value=\"3\" />\r\n                    <label htmlFor=\"radio-seven\">3</label>\r\n                    <input onChange={handleChange} type=\"radio\" id=\"radio-eight\" name=\"SET_COMPUTER_DIFFICULTY\" value=\"4\" />\r\n                    <label htmlFor=\"radio-eight\">4</label>\r\n                    <input onChange={handleChange} type=\"radio\" id=\"radio-nine\" name=\"SET_COMPUTER_DIFFICULTY\" value=\"5\" />\r\n                    <label htmlFor=\"radio-nine\">5</label>\r\n                </div>\r\n            </form>\r\n        </div>\r\n    );\r\n}\r\n\r\nexport default Options;","export default __webpack_public_path__ + \"static/media/strategy.135ddd78.svg\";","import { React, useState, useEffect } from \"react\"\r\nimport { useSelector, useDispatch } from \"react-redux\"\r\nimport parse from 'html-react-parser';\r\nimport json from \"../openings.json\"\r\nimport chessBookWithPawn from \"../images/chess-logo.svg\"\r\nimport openBook from \"../images/open-book.svg\"\r\nimport chessGear from \"../images/chess-gear.svg\"\r\nimport img from \"../images/strategy.svg\"\r\nimport Options from \"../Options/Options\"\r\n\r\nimport \"./InfoBox.css\"\r\n\r\nconst InfoBox = ({changeOpponent, changePlayerColor}) => {\r\n\r\n    const chess = useSelector(state => state.game);\r\n    const pgn = useSelector(state => state.pgn);\r\n    const fen = useSelector(state => state.fen);\r\n    const [opening, setOpening] = useState()\r\n    const [eco, setEco] = useState()\r\n    const [comment, setComment] = useState('')\r\n    const [annotated, setAnnotated] = useState()\r\n    const [options, showOptions] = useState(false)\r\n    const dispatch = useDispatch()\r\n\r\n    const onMoveClick = (move) => {\r\n        chess.move(move)\r\n        dispatch({type: \"UPDATE_GAME\", game: chess, fen: chess.fen(), pgn: chess.pgn()})\r\n\r\n    }\r\n\r\n    useEffect(() => {\r\n        let fenArray = fen.split(' ')\r\n        let fenAgain = fenArray[0] + \" \" + fenArray[1] + \" \" + fenArray[2]\r\n        let position = json.find(opening => opening.fen === fenAgain)\r\n\r\n        if (position && position.name !== position) {\r\n            setOpening(position.name)\r\n            setEco(position.eco)\r\n        }\r\n\r\n        if (position && position.comment) {\r\n            setComment(position.comment)\r\n        } else if (position === undefined && comment !== \"\") {\r\n            setComment(\"\")\r\n        }\r\n    }, [fen, opening, eco, comment, annotated]);\r\n\r\n    useEffect(() => {\r\n        const turn = chess.turn() === \"w\" ? 2 : 1\r\n        setAnnotated(json.filter(opening => {\r\n            const openingsLength  = opening.moves.split(' ').length;\r\n            let pgnLength = pgn.split(' ').length\r\n\r\n            if (pgnLength === 1) {pgnLength = 0} // splitting an empty string by \" \" returns an empty array with a length of 1...\r\n\r\n            return opening.moves.includes(pgn)\r\n            && openingsLength - pgnLength === turn\r\n            && opening.comment\r\n        }))\r\n    }, [chess, pgn])\r\n    \r\n    const annotatedMoves = () => {\r\n        return annotated?.map(opening => {\r\n            const arr = opening.moves.split(' ')\r\n            const move = arr[arr.length - 1]\r\n            return <button \r\n                        key={opening.name} \r\n                        className={`annotated-move ${opening?.analysis || \"normal\"}`}\r\n                        onClick={() => onMoveClick(move)}\r\n                    >\r\n                        {move}\r\n                    </button>\r\n        })\r\n    }\r\n\r\n    const currentInfo = () => {\r\n        if (options) {\r\n            return (\r\n                <div>\r\n                    <Options \r\n                    changeOpponent={changeOpponent} \r\n                    changePlayerColor={changePlayerColor}/>\r\n                </div>\r\n            )\r\n        } else {\r\n            return (\r\n                <div>\r\n                    {parse(comment)}\r\n                    <img id=\"commentary-background-image\" src={openBook} alt=\"open book\" />\r\n                </div>\r\n            )\r\n        }\r\n    }\r\n\r\n    const undoMove = () => {\r\n        chess.undo()\r\n        dispatch({type: \"UPDATE_GAME\", game: chess, fen: chess.fen(), pgn: chess.pgn()})\r\n    }\r\n\r\n    return (\r\n        <div id=\"infobox\">\r\n\r\n            <div id=\"position\">\r\n                <img src={chessBookWithPawn} alt=\"book with pawn on front\" id=\"book-image\"/>\r\n                <span id=\"opening\"> {eco} {opening} </span> \r\n                <br />\r\n                <button className={options ? \"ribbon active\" : \"ribbon\"} onClick={() => showOptions(!options)}>\r\n                    <img src={chessGear} alt=\"gear with chess piece in center\" id=\"gears\" />\r\n                </button>\r\n            </div>\r\n\r\n            <div id=\"commentary\">\r\n                {currentInfo()}\r\n            </div>\r\n\r\n            <div>\r\n                <button id=\"undo-button\" onClick={undoMove}>⟲</button>\r\n            </div>\r\n\r\n            <div id=\"continuations\">\r\n                <div id=\"continuations-title-and-legend\">\r\n                    <span id=\"continuations-title\">Annotated Continuations:</span>\r\n                        <span id=\"good\">⬤ good \r\n                            <div className=\"inner-text\">\r\n                                Good moves are just that: good. \r\n                            </div>\r\n                        </span>\r\n                        <span id=\"forced\">  ⬤ forced \r\n                            <div className=\"inner-text\">\r\n                                Though few moves are truly forced upon a player, sometimes a single move is the only reasonable option, and therefore is \"forced\" in a sense. These moves have been highlighted to help you understand that it's only really necessary to study these moves if you're interested in why these moves are better or why others are worse.\r\n                            </div>\r\n                        </span>\r\n                        <span id=\"bad\">  ⬤ not recommended\r\n                            <div className=\"inner-text\">\r\n                                Occasionaly we'll specifically discourage a popular move due to either a better move being available, or the resulting complications being tough for beginners to understand.\r\n                            </div>\r\n                        </span>\r\n                    <br />\r\n                </div>\r\n                {annotatedMoves()}\r\n            </div>\r\n\r\n        </div>\r\n    );\r\n}\r\n\r\nexport default InfoBox;\r\n","import { useEffect, useRef } from \"react\"\r\n\r\nexport const useEffectWhen = (effect, deps, whenDeps) => {\r\n  const whenRef = useRef(whenDeps || []);\r\n  const initial = whenRef.current === whenDeps;\r\n  const whenDepsChanged = initial || !whenRef.current.every((w, i) => w === whenDeps[i]);\r\n  whenRef.current = whenDeps;\r\n  const nullDeps = deps.map(() => null);\r\n\r\n  /* eslint-disable-next-line */\r\n  return useEffect(\r\n    whenDepsChanged ? effect : () => {},\r\n    whenDepsChanged ? deps : nullDeps\r\n  );\r\n}","import { useState, useEffect } from \"react\"\r\nimport { useEffectWhen } from \"../helpers\"\r\nimport \"./EvaluationBar.css\"\r\n\r\nconst colors = [\"antiquewhite\", \"rgb(10,10,10,.85)\"]\r\n\r\nconst EvaluationBar = ({evaluationObj, playerColor}) => {\r\n\r\n    let {evaluation, color, mate} = evaluationObj\r\n\r\n    const [vh, setVh] = useState(1);\r\n    const [better, setBetter] = useState('w');\r\n    const [displayNum, setDisplayNum] = useState(0.2)\r\n    const [bottomColor, setBottomColor] = useState(\"antiquewhite\")\r\n    const [topColor, setTopColor] = useState(\"black\")\r\n\r\n    useEffect(() => {\r\n        if (playerColor === \"white\") {\r\n            setBottomColor(colors[0])\r\n            setTopColor(colors[1])\r\n        } else {\r\n            setBottomColor(colors[1])\r\n            setTopColor(colors[0])\r\n        }\r\n    }, [playerColor])\r\n\r\n    useEffect(() => {\r\n        //set eval bar height\r\n        let  evalHeight =  color === 'w' ? \r\n        50 - (evaluation  * 4) :\r\n        50 + (evaluation  * 4);\r\n\r\n        if (evaluation > 0) {\r\n            setBetter(color)\r\n        } else {\r\n            color === \"w\" ? setBetter(\"b\") : setBetter(\"w\")\r\n        };\r\n        \r\n        \r\n        //leave at least 2% if checkmate is not found\r\n        if (evalHeight > 100) {\r\n            evalHeight = 98\r\n        }\r\n        if (evalHeight < 0) {\r\n            evalHeight = 2\r\n        }\r\n\r\n        if (playerColor === \"black\") {\r\n            evalHeight = 100 - evalHeight\r\n        }\r\n\r\n        setVh(evalHeight)\r\n\r\n        setDisplayNum(evaluation?.toFixed(2))\r\n\r\n    }, [playerColor, color, evaluation]);\r\n\r\n    useEffectWhen(() => {\r\n        let vh;\r\n        if (mate > 0) {\r\n            if (mate % 2 === 1) {\r\n                if (color === \"w\") {\r\n                    setBetter('w')\r\n                    vh = 0\r\n                } else {\r\n                    setBetter('b')\r\n                    vh = 100\r\n                }\r\n            } else {\r\n                if (color === \"b\") {\r\n                    setBetter('w')\r\n                    vh = 100\r\n                } else {\r\n                    setBetter('w')\r\n                    vh = 0\r\n                }\r\n            }\r\n        }\r\n\r\n        if (playerColor === \"black\") {\r\n            vh = 100 - vh\r\n        }\r\n\r\n        setVh(vh)\r\n\r\n    }, [mate, playerColor])\r\n\r\n    const displayEval = () => {\r\n        if (mate !== 0) {\r\n            return \"#\" + mate\r\n        } else {\r\n            const symbol = better === \"w\" ? \"+\" : \"-\"\r\n            return symbol + Math.abs(displayNum).toFixed(1)\r\n        }\r\n    }\r\n\r\n    const evalStyle = () => {\r\n        if (playerColor === \"white\") {\r\n            return better === \"w\" ?\r\n                {color: \"black\", top: '94%'} :\r\n                {color: \"white\", top: '1%'}\r\n        } else {\r\n            return better=== \"b\" ?\r\n            {color: \"white\", top: '94%'} :\r\n            {color: \"black\", top: '1%'}\r\n        }\r\n    }\r\n        \r\n    return (\r\n        <div id=\"evaluation-bar-holder\" style={{backgroundColor: bottomColor}}>\r\n            <p id=\"eval\" style={evalStyle()}>{displayEval()}</p>\r\n            <div id=\"evaluation-bar\" style={{height: `${vh}%`, transition: 'height 2s', backgroundColor: topColor}} />\r\n        </div>\r\n    );\r\n}\r\n\r\nexport default EvaluationBar;","export default __webpack_public_path__ + \"static/media/wP.9b7bf047.svg\";","export default __webpack_public_path__ + \"static/media/wB.100481bc.svg\";","export default __webpack_public_path__ + \"static/media/wN.ae9b1c6d.svg\";","export default __webpack_public_path__ + \"static/media/wR.ad69d2b3.svg\";","export default __webpack_public_path__ + \"static/media/wQ.c3e0858a.svg\";","export default __webpack_public_path__ + \"static/media/bP.3e6e5f16.svg\";","export default __webpack_public_path__ + \"static/media/bB.9ce7c272.svg\";","export default __webpack_public_path__ + \"static/media/bN.f02273ec.svg\";","export default __webpack_public_path__ + \"static/media/bR.34580a73.svg\";","export default __webpack_public_path__ + \"static/media/bQ.dc56bc67.svg\";","import { useState, useEffect } from \"react\"\r\nimport \"./CaptureArea.css\"\r\n\r\nimport p from \"../images/pieces/wP.svg\"\r\nimport b from \"../images/pieces/wB.svg\"\r\nimport n from \"../images/pieces/wN.svg\"\r\nimport r from \"../images/pieces/wR.svg\"\r\nimport q from \"../images/pieces/wQ.svg\"\r\n\r\nimport P from \"../images/pieces/bP.svg\"\r\nimport B from \"../images/pieces/bB.svg\"\r\nimport N from \"../images/pieces/bN.svg\"\r\nimport R from \"../images/pieces/bR.svg\"\r\nimport Q from \"../images/pieces/bQ.svg\"\r\n\r\nconst CaptureArea = ({fen}) => {\r\n\r\n    const [whitePieces, setWhitePieces] = useState([]);\r\n    const [blackPieces, setBlackPieces] = useState([]);\r\n    const [difference, setDifference] = useState(0)\r\n\r\n    useEffect(() => {\r\n        const f = fen.split(' ')[0]\r\n        const white = [];\r\n        const black = [];\r\n        let difference = 0;\r\n        for(let i = 0; i < 8 - [...f.match(/p/g) || [] ].length; i++) {\r\n            white.push(\"p\")\r\n            difference++\r\n        }\r\n        for(let i = 0; i < 2 - [...f.match(/b/g) || [] ].length; i++) {\r\n            white.push(\"b\")\r\n            difference += 3\r\n        }\r\n        for(let i = 0; i < 2 - [...f.match(/n/g) || [] ].length; i++) {\r\n            white.push(\"n\")\r\n            difference += 3\r\n        }\r\n        for(let i = 0; i < 2 - [...f.match(/r/g) || [] ].length; i++) {\r\n            white.push(\"r\")\r\n            difference += 5\r\n        }\r\n        if (!f.match(/q/g)) {\r\n            white.push(\"q\")\r\n            difference += 9\r\n        }\r\n\r\n        for(let i = 0; i < 8 - [...f.match(/P/g) || [] ].length; i++) {\r\n            black.push(\"P\")\r\n            difference--\r\n        }\r\n        for(let i = 0; i < 2 - [...f.match(/B/g) || [] ].length; i++) {\r\n            black.push(\"B\")\r\n            difference -= 3\r\n        }\r\n        for(let i = 0; i < 2 - [...f.match(/N/g) || [] ].length; i++) {\r\n            black.push(\"N\")\r\n            difference -= 3\r\n        }\r\n        for(let i = 0; i < 2 - [...f.match(/R/g) || [] ].length; i++) {\r\n            black.push(\"R\")\r\n            difference -= 5\r\n        }\r\n        if (!f.match(/Q/g)) {\r\n            black.push(\"Q\")\r\n            difference -= 9\r\n        }\r\n        setWhitePieces(black)\r\n        setBlackPieces(white)\r\n        setDifference(difference)\r\n    }, [fen])\r\n\r\n    const displayCaptures = (captures, color) => {\r\n        let captureArray = [];\r\n        if (color === \"w\") {\r\n            captureArray = [p, b, n, r, q]\r\n        } else {\r\n            captureArray = [P, B, N, R, Q]\r\n        }\r\n        return (\r\n            captures.map((x, i) => {\r\n                switch(x) {\r\n                    case \"p\":\r\n                    case \"P\":\r\n                        return <img src={captureArray[0]} key={i} alt=\"\" className=\"captured-piece captured-pawn\" />\r\n                    case \"b\":\r\n                    case \"B\":\r\n                        return <img src={captureArray[1]} key={i} alt=\"\" className=\"captured-piece captured-bishop\" />\r\n                    case \"n\":\r\n                    case \"N\":\r\n                        return <img src={captureArray[2]} key={i} alt=\"\" className=\"captured-piece captured-knight\" />\r\n                    case \"r\":\r\n                    case \"R\":\r\n                        return <img src={captureArray[3]} key={i} alt=\"\" className=\"captured-piece captured-rook\" />\r\n                    case \"q\":\r\n                    case \"Q\":\r\n                        return <img src={captureArray[4]} key={i} alt=\"\" className=\"captured-piece captured-queen\" />\r\n                    default:\r\n                        return \"Error\"  \r\n                }\r\n            })\r\n        )\r\n    }\r\n        \r\n    return (\r\n        <div id=\"capture-area-wrapper\">\r\n            <div className=\"capture-area\" id=\"capture-area-white\">\r\n                {displayCaptures(whitePieces, \"w\")}\r\n                {difference < 0 ? \"+\" + Math.abs(difference): null}\r\n            </div>\r\n            <div className=\"capture-area\" id=\"capture-area-black\">\r\n                {displayCaptures(blackPieces, \"b\")}\r\n                {difference > 0 ? \"+\" + Math.abs(difference): null}\r\n            </div>\r\n        </div>\r\n    );\r\n}\r\n\r\nexport default CaptureArea;","import Modal from \"react-modal\"\r\nimport rook from \"../images/pieces/wR.svg\"\r\nimport queen from \"../images/pieces/wQ.svg\"\r\nimport bishop from \"../images/pieces/wB.svg\"\r\nimport knight from \"../images/pieces/wN.svg\"\r\n\r\nimport \"./PromotionPrompt.css\"\r\n\r\nModal.setAppElement('#root')\r\n\r\nconst customStyles = {\r\n    content : {\r\n      top                   : '50%',\r\n      left                  : '50%',\r\n      right                 : 'auto',\r\n      bottom                : 'auto',\r\n      marginRight           : '-50%',\r\n      transform             : 'translate(-50%, -50%)'\r\n    }\r\n  };\r\n\r\nconst PromotionPrompt = ({promotion, showModal}) => {\r\n\r\n    // const [showModal, setShowModal] = useState(false)\r\n\r\n    return (\r\n        <div id=\"promotion-prompt\">\r\n        <Modal isOpen={showModal} style={customStyles}>\r\n            <div style={{ textAlign: \"center\", cursor: \"pointer\" }}>\r\n                <span role=\"presentation\" onClick={() => promotion(\"q\")}>\r\n                    <img src={queen} alt=\"\" style={{ width: 50 }} />\r\n                </span>\r\n                <span role=\"presentation\" onClick={() => promotion(\"r\")}>\r\n                    <img src={rook} alt=\"\" style={{ width: 50 }} />\r\n                </span>\r\n                <span role=\"presentation\" onClick={() => promotion(\"b\")}>\r\n                    <img src={bishop} alt=\"\" style={{ width: 50 }} />\r\n                </span>\r\n                <span role=\"presentation\" onClick={() => promotion(\"n\")}>\r\n                    <img src={knight} alt=\"\" style={{ width: 50 }} />\r\n                </span>\r\n            </div>\r\n        </Modal>\r\n        </div>\r\n    );\r\n}\r\n\r\nexport default PromotionPrompt;","import React, {useState} from 'react';\r\nimport { useSelector, useDispatch } from \"react-redux\"\r\nimport Chessground from 'react-chessground'\r\nimport EvaluationBar from '../EvaluationBar/EvaluationBar';\r\nimport CaptureArea from \"../CaptureArea/CaptureArea\"\r\nimport PromotionPrompt from \"../PromotionPrompt/PromotionPrompt\"\r\nimport { useEffectWhen } from '../helpers'\r\n\r\nimport 'react-chessground/dist/styles/chessground.css'\r\nimport \"./chessboard.css\"\r\n\r\nconst stockfishPlayer = new Worker('/stockfish.js')\r\nconst stockfishWhite = new Worker('/stockfish.js')\r\nconst stockfishBlack = new Worker('/stockfish.js')\r\n\r\nconst Chessboard = () => {\r\n\r\n  const [pendingMove, setPendingMove] = useState()\r\n  const [lastMove, setLastMove] = useState()\r\n  const [evaluation, setEvaluation] = useState({evaluation: 0.2, color: \"w\", mate: 0})\r\n  const [depth, setDepth] = useState(0)\r\n  const [showModal, setShowModal] = useState(false)\r\n\r\n  const computerOpponent = useSelector(state => state.computerOpponent)\r\n  const playerColor = useSelector(state => state.userColor)\r\n  const chess = useSelector(state => state.game)\r\n  const fen = useSelector(state => state.fen)\r\n  const computerLevel = useSelector(state => state.difficulty)\r\n  const dispatch = useDispatch()\r\n\r\n  const onMove = (from, to) => {\r\n    const moves = chess.moves({ verbose: true })\r\n\r\n    //check if move is pawn promotion\r\n    for (let i = 0, len = moves.length; i < len; i++) { /* eslint-disable-line */\r\n      if (moves[i].flags.indexOf(\"p\") !== -1 && moves[i].from === from) {\r\n        setPendingMove([from, to])\r\n        setShowModal(true)\r\n        return\r\n      }\r\n    }\r\n\r\n    move(from, to)\r\n  }\r\n\r\n  useEffectWhen(() => {\r\n    let level = computerLevel === 1 ? 0 : (computerLevel - 1) * 5\r\n    stockfishPlayer.postMessage(`setoption name Skill Level value ${level}`)\r\n    console.log(level)\r\n  }, [computerLevel])\r\n\r\n  const stockfishMove = () => {\r\n    if (showModal === true) setShowModal(false);\r\n    stockfishPlayer.postMessage(`position fen ${chess.fen()}`)\r\n    stockfishPlayer.postMessage('go depth 15')\r\n  }\r\n\r\n  const stockfishAnalyze = () => {\r\n    if (chess.turn() === \"w\") {\r\n      stockfishBlack.postMessage('stop')\r\n      stockfishWhite.postMessage(`position fen ${chess.fen()}`)\r\n      stockfishWhite.postMessage('go depth 23')\r\n    } else {\r\n      stockfishWhite.postMessage('stop')\r\n      stockfishBlack.postMessage(`position fen ${chess.fen()}`)\r\n      stockfishBlack.postMessage('go depth 23')\r\n    }\r\n  }\r\n\r\n  stockfishPlayer.onmessage = (event) => { \r\n    let bestMove = event.data.match(/^bestmove ([a-h][1-8])([a-h][1-8])([qrbn])?/);\r\n\r\n    if (bestMove) {\r\n      move(bestMove[1], bestMove[2]);\r\n    }\r\n  }\r\n\r\n  const move = (from, to) => {\r\n    chess.move({from, to});\r\n    dispatch({type: \"UPDATE_GAME\", game: chess, fen: chess.fen(), pgn: chess.pgn()})\r\n    setLastMove([from, to]);\r\n  }\r\n\r\n  useEffectWhen(() => {\r\n    stockfishAnalyze()\r\n  }, [fen])\r\n\r\n  stockfishWhite.onmessage = (event) => {\r\n   handleMessage(event, \"w\")\r\n  }\r\n\r\n  stockfishBlack.onmessage = (event) => {\r\n   handleMessage(event, \"b\")\r\n  }\r\n\r\n  const handleMessage = (event, color) => {\r\n    console.log(event)\r\n    let evaluation = event.data.match(/(?:cp )(-?\\d*)/);\r\n    let mate = event.data.match(/(?:mate )(-?\\d*)/);\r\n    let currDepth = event.data.match(/(?:depth )(-?\\d*)/);\r\n    if (currDepth?.[1] && currDepth[1] !== depth ) {\r\n      setDepth(currDepth[1])\r\n    }\r\n    if (evaluation != null && chess.turn() === color) {\r\n      setEvaluation(\r\n        {evaluation: evaluation[1] / 100, \r\n          color: color,\r\n          mate: 0\r\n        })\r\n    }\r\n    if (mate?.[1]) {\r\n      setEvaluation(\r\n        {...evaluation,\r\n          color: color, \r\n          mate: mate[1]})\r\n    }\r\n  }\r\n\r\n  const promotion = e => {\r\n    const from = pendingMove[0]\r\n    const to = pendingMove[1]\r\n    chess.move({ from, to, promotion: e })\r\n    setLastMove([from, to])\r\n    setShowModal(false)\r\n  }\r\n\r\n  const turnColor = () => {\r\n    return chess.turn() === \"w\" ? \"white\" : \"black\"\r\n  }\r\n\r\n  const calcMovable = () => {\r\n    const dests = new Map()\r\n    chess.SQUARES.forEach(s => {\r\n      const ms = chess.moves({ square: s, verbose: true })\r\n      if (ms.length) dests.set(s, ms.map(m => m.to))\r\n    })\r\n    return {\r\n      free: false,\r\n      dests,\r\n      color: turnColor()\r\n    }\r\n  }\r\n\r\nuseEffectWhen (() => {\r\n  if (chess.game_over()) {\r\n    setTimeout(onGameOver, 500)\r\n  }\r\n}, [chess.game_over()])\r\n\r\nconst onGameOver = () => {\r\n  alert('Game over, bro.')\r\n}\r\n\r\nuseEffectWhen(() => {\r\n  if (turnColor() !== playerColor && computerOpponent) {\r\n    stockfishMove()\r\n  }\r\n}, [lastMove, computerOpponent, playerColor])\r\n\r\n  return (\r\n      <div id=\"chessboard\">\r\n        <EvaluationBar playerColor={playerColor} evaluationObj={evaluation}/>\r\n\r\n        <Chessground\r\n          orientation={playerColor}\r\n          turnColor={turnColor()}\r\n          movable={calcMovable()}\r\n          lastMove={lastMove}\r\n          fen={chess.fen()}\r\n          onMove={onMove}\r\n          animation={{duration: 300}}\r\n        />\r\n\r\n        <div id=\"depth\">\r\n          <span id=\"depth-title\">DEPTH</span> \r\n          <br />\r\n          <span id=\"depth-num\">{depth}</span>\r\n        </div>\r\n\r\n        <CaptureArea fen={chess.fen()}/>\r\n\r\n        <PromotionPrompt promotion={promotion} showModal={showModal}/>\r\n      </div>\r\n  );\r\n}\r\n\r\nexport default Chessboard","import React from 'react';\r\nimport { useSelector } from \"react-redux\"\r\nimport InfoBox from \"../InfoBox/InfoBox\"\r\nimport Chessboard from \"../Chessboard/ChessBoard\"\r\n\r\nimport 'react-chessground/dist/styles/chessground.css'\r\nimport \"./Dashboard.css\"\r\n\r\nconst Dashboard = () => {\r\n\r\n  const chess = useSelector(state => state.game)\r\n\r\n  return (\r\n    <div id =\"dashboard\">\r\n\r\n    <Chessboard />\r\n\r\n    <InfoBox \r\n      chess={chess}\r\n      fen={chess.fen()} \r\n      pgn={chess.pgn()}\r\n    />\r\n\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default Dashboard","import './App.css';\r\nimport Header from \"../Header/Header\"\r\nimport Dashboard from '../Dashboard/Dashboard';\r\n\r\nfunction App() {\r\n  \r\n  return (\r\n    <div className=\"App\">\r\n      <Header />\r\n      <Dashboard />\r\n    </div>\r\n  );\r\n}\r\n  \r\nexport default App;\r\n","const reportWebVitals = onPerfEntry => {\r\n  if (onPerfEntry && onPerfEntry instanceof Function) {\r\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\r\n      getCLS(onPerfEntry);\r\n      getFID(onPerfEntry);\r\n      getFCP(onPerfEntry);\r\n      getLCP(onPerfEntry);\r\n      getTTFB(onPerfEntry);\r\n    });\r\n  }\r\n};\r\n\r\nexport default reportWebVitals;\r\n","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport reducer from \"./reducer\"\r\nimport './index.css';\r\nimport App from './App/App';\r\nimport reportWebVitals from './reportWebVitals';\r\nimport { Provider } from 'react-redux';\r\nimport { createStore } from 'redux';\r\n\r\nconst store = createStore(reducer)\r\n\r\nReactDOM.render(\r\n  <Provider store={store}>\r\n      <App />\r\n  </Provider>,\r\n  document.getElementById('root')\r\n);\r\n\r\n// If you want to start measuring performance in your app, pass a function\r\n// to log results (for example: reportWebVitals(console.log))\r\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\r\nreportWebVitals();\r\n"],"sourceRoot":""}